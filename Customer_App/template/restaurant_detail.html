{% extends 'Customer_App/template/base.html' %}
{% block links %}
    {% comment %} Restaurant Detail Page Links {% endcomment %}
    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="/static/Customer_CSS/Restaurant_Page_theme/css/bootstrap.css" />

    <!--owl slider stylesheet -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
    <!-- nice select  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ==" crossorigin="anonymous" />
    <!-- font awesome style -->
    <link href="/static/Customer_CSS/Restaurant_Page_theme/css/font-awesome.min.css" rel="stylesheet" />
  
    <!-- Custom styles for this template -->
    <link href="/static/Customer_CSS/Restaurant_Page_theme/css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- responsive style -->
    <link href="/static/Customer_CSS/Restaurant_Page_theme/css/responsive.css" rel="stylesheet" />

    <!--Rating & Review CSS Here-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Allura&family=Arizonia&family=Bad+Script&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!--Rating & Review CSS END Here -->

      {% comment %} Restaurant detail theme link end {% endcomment %}
      {% endblock links %}
    {% block css %}
    <style>
      .restaurant_detail_banner_container {
        position: relative;
        /* Other container styles */
    }
    
    .restaurant_detail_banner_overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
        /* Other overlay styles */
    }
    .rating {
      display: flex;
      flex-direction: row-reverse;
  }

  .rating input {
      display: none;
  }

  .rating label {
      cursor: pointer;
      width: 40px;
      height: 40px;
      font-size: 24px;
      /**color:#fb3c00
      background-image: linear-gradient(50deg, #fb3c00, #ffb800); 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;**/
  }

  .rating label:hover,
  .rating label:hover ~ label,
  .rating input:checked ~ label {
      background: linear-gradient(50deg, #fb3c00, #ffb800); 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;
  }

  .rating input:checked ~ label:hover,
  .rating input:checked ~ label:hover ~ label {
      background: linear-gradient(50deg, #fb3c00, #ffb800); 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;
  }

  .btn-grad {
      background-image: linear-gradient(to right, #FF512F 0%, #F09819  51%, #FF512F  100%);
      margin: 10px;
      padding: 15px 45px;
      text-align: center;
      text-transform: uppercase;
      transition: 0.5s;
      background-size: 200% auto;
      color: white;            
      box-shadow: 0 0 20px #fc6914;
      border-radius: 10px;
      display: block;
    }

    .btn-grad:hover {
      background-position: right center; /* change the direction of the change here */
      color: #fff;
      text-decoration: none;
    }

    #re_head
    {
      text-align: center;
      font-family: 'Bad Script';
      background: linear-gradient(50deg, #fb3c00, #ffb800); 
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;
      font-weight: normal;
      margin: 30px;
      padding: 30px;
    }
    .img-fluid
    {
      width: 100px;
      margin-top: 40px;
      margin-left: 30px;
    }
    .card_ra
    {
      border-radius: 15px 30px;
      box-shadow: 0 0 20px #3b3b3b50;
    }
    .card-title-re
    {
      font-family: 'Bad Script';
      font-weight: bold;
    }
    .card-title-RA
    {
      color: #ffb800;
    }
    .bar-container {
      width: 100%;
      background-color: #f1f1f1;
      text-align: center;
      color: white;
    }
    
    /* Individual bars */
    .bar-5 {width: 60%; height: 18px; background-color: #04AA6D; border-radius: 50px;}
    .bar-4 {width: 30%; height: 18px; background-color: #2196F3; border-radius: 50px;}
    .bar-3 {width: 10%; height: 18px; background-color: #00bcd4; border-radius: 50px;}
    .bar-2 {width: 4%; height: 18px; background-color: #ff9800; border-radius: 50px;}
    .bar-1 {width: 15%; height: 18px; background-color: #f44336; border-radius: 50px;}
    
    /* Responsive layout - make the columns stack on top of each other instead of next to each other */
    @media (max-width: 400px) {
      .side, .middle {
        width: 100%;
      }
      /* Hide the right column on small screens */
      .right {
        display: none;
      }
    }
    .rating label.active {
      color:#fb3c00; /* Color of active stars */
  }
    </style>
    {% endblock css %}
  {% block content %}

      <section class="py-5 overflow-hidden" style="background-image: url('{{obj.rest_banner_img.url}}'); background-repeat: no-repeat;height:650px;width:100%;background-size: cover;" id="home">
        <div class="restaurant_detail_banner_container restaurant_detail_banner_overlay">
          <div class="row flex-center" style="padding-top:8%">
            <div class="col-md-5 col-lg-6 order-0 order-md-1 mt-8 mt-md-0"></div>
            <div class="col-md-7 col-lg-6 py-8 text-md-start text-center" style="display:flex;flex-direction:column;align-items:center;">
              <h1 class=" fs-md-5 fs-lg-6 fs-xl-8 text-light" style="font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">{{obj.rest_name}} Restaurant</h1>
              <div class="btn-box">
                <a href="" class="btn-grad">
                  Order Now
                </a>
              </div>              
            </div>
          </div>
        </div>
      </section>


  <!-- offer section -->

  <section class="offer_section" style="padding: 50px 0px 27px 0px ">
   <h1 style="text-align: center;font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';font-weight:bold;color: #F17228 !important;">Discounts Items</h1>
    <div class="offer_container">
      <div class="container ">
        <div class="row">
          {% for discount in discounted_items %}
          <div class="col-md-4" style="margin-top: 30px">
            <div class="box" style="background-color: white!important;">
              <div class="card" style="width: 20rem; border-radius: 0 30px; box-shadow: 0 0 20px #14141433;">
                <img src="{{discount.food_img.url}}"  class="card-img-top" alt="burger" style="clip-path: circle(100% at center 0);height:270px">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center; background: linear-gradient(50deg, #fb3c00, #ffb800); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight:bold; font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 34px;">{{discount.food_item_name}}</h5>
                  <p class="card-text" style="text-align: center; font-size: 16px; color:rgb(104, 103, 103);">Discount {{discount.food_item_discount_price}} Rs Off</p>
                  <a href="#" class="btn btn-grad ">Order Now <i class="fa-solid fa-cart-shopping" style="padding-left: 5px;"></i></a>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
          {% comment %} <div class="col-md-4">
            <div class="box" style="background-color: white!important;">
              <div class="card" style="width: 20rem; border-radius: 30px 30px; box-shadow: 0 0 20px #14141433;">
                <img src="/static/Customer_CSS/Restaurant_Page_theme/images/o5.jpg" class="card-img-top" alt="burger" style="clip-path: circle(100% at center 0);">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center; background: linear-gradient(50deg, #fb3c00, #ffb800); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight:bold; font-family: 'Dancing Script', cursive; font-size: 34px;">Chicken Club</h5>
                  <p class="card-text" style="text-align: center; font-size: 16px; color:rgb(104, 103, 103);">Discount 15% Off</p>
                  <a href="#" class="btn btn-grad ">Order Now <i class="fa-solid fa-cart-shopping" style="padding-left: 5px;"></i></a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4" style="margin-top: 30px">
            <div class="box" style="background-color: white!important;">
              <div class="card" style="width: 20rem; border-radius: 30px 0;box-shadow: 0 0 20px #14141433;">
                <img src="/static/Customer_CSS/Restaurant_Page_theme/images/o2.jpg" class="card-img-top" alt="pizza" style="clip-path: circle(100% at center 0);">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center; background: linear-gradient(50deg, #fb3c00, #ffb800); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight:bold; font-family: 'Dancing Script', cursive; font-size: 34px;">Pizza Club</h5>
                  <p class="card-text" style="text-align: center; font-size: 16px; color:rgb(104, 103, 103);">Discount 15% Off</p>
                  <a href="#" class="btn btn-grad ">Order Now <i class="fa-solid fa-cart-shopping" style="padding-left: 5px;"></i></a>
                </div>
              </div>
          </div> {% endcomment %}
        </div>
      </div>
    </div>
  </section>

  <!-- end offer section -->

  <!-- food section -->

  <section class="food_section layout_padding-bottom" style="padding:0">
    <div class="container">
      <div class="heading_container heading_center">
        <h2 style="font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';color: #F17228 !important;">
          Our Menu
        </h2>
      </div>

      <ul class="filters_menu">
        <li class="active" data-filter="all">All</li>
         {% for category in category_food_items  %}
        <li data-filter="{{category.food_cat_fk.food_cat}}">{{category.food_cat_fk.food_cat}}</li>
        {% endfor %} 
      </ul>

      <div class="filters-content">
        <div class="row grid main_heading">
          {% for items in allItems  %}
          <div class="col-sm-6 col-lg-4 all pizza">
            <button type="button" class="item_detail_btn" data-bs-toggle="modal" data-bs-target="#item_modal" data-item-id="{{ items.food_item_id }}" style="width: -webkit-fill-available;">
            <div class="box" data-category="{{items.food_cat_fk.food_cat}}">
              <div>
                <div class="img-box">
                  <img src="{{items.food_img.url}}" alt="">
                </div>
                <div class="detail-box">
                  <h5 style="font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">
                    {{items.food_item_name}}
                  </h5>
                  <p>
                    {{items.food_item_desc}}
                  </p>
                  <div class="options">
                    <h6>
                      Rs. {{items.food_item_price}}
                    </h6>
                    <br/>
                        {% if items.food_item_discount_price > 0 %}
                        <span class="text-1000 " style="color:lightgrey;">Discount of Rs.{{items.food_item_discount_price}}</span>
                        {% endif %}
                    <a href="">
                      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029" style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
                        <g>
                          <g>
                            <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
                         c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                         C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                         c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                         C457.728,97.71,450.56,86.958,439.296,84.91z" />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
                         c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
                          </g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </button>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </section>

<!-- ============================================-->
<!-- <section> begin(Food Items Modal) ============================-->
  <!-- Modal -->
  <div class="modal fade" id="item_modal" tabindex="-1" aria-labelledby="item_modal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modal-container">
        <div class="modal-header">
          <h1 class="modal-title fs-5 modal-container-title" id="exampleModalLabel">Food Item Detail</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body modal-container-body">
          <img class="food_img" id="modal_image" src=""/>
          <div class=".item-info rtf">
            <h1 id="modal_name"></h1>
            <p id="modal_desc"></p>
            <h6 id="modal_price" style="display:inline;padding-right:10px"></h6>
            <span id="modal_discount_price"></span>
          </div>
          <div class="rtf">
            <h1>Special Instructions</h1>
			      <p>Any specific preference? Let the restaurant know.</p>
			      <textarea rows="3" cols="53" placeholder="eg: No Mayo" class="inst" id=""></textarea>
          </div>
        </div>
        <div class="modal-footer modal-container-footer container">
          <div class="counter divpr" id="">
            <button class="button is-ghost minus" style="" id=""><i class="counter-icons fa-solid fa-minus"></i></button>
            <p class="valpr" id="" style="padding:5px;font-weight:600;margin-top:0;">1</p>
            <button class="button is-ghost plus " id=""><i class="counter-icons fa-solid fa-plus"></i></button>
            </div>
            <button class="button is-primary btn-cart cart btn-grad" id="">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>
  <!-- ============================================-->
<!-- <section> ENDD(Food Items Modal) ============================-->

  <!-- end food section -->

  <!-- about section -->
  <!--<h1 style="text-align: center; margin-bottom: 40px">About Food</h1>
  <section class="about_section" style="border-radius: 0 80px 0 80px; margin-bottom: 10%; box-shadow: 0 0 20px #14141433;"">
    <div class="container  ">
      <div class="row">
        <div class="col-md-6 ">
          <div class="img-box">
            <img src="/static/Customer_CSS/Restaurant_Page_theme/images/about-img.png" alt="">
          </div>
        </div>
        <div class="col-md-6">
          <div class="detail-box">
            <div class="heading_container">
              <h2 style="background: linear-gradient(50deg, #fb3c00, #ffb800); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight:bold; font-size: 50px">
                We Are Feane
              </h2>
            </div>
            <p>
              There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
              in some form, by injected humour, or randomised words which don't look even slightly believable. If you
              are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in
              the middle of text. All
            </p>
            <a href="" class="btn-grad">
              Read More
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
<br/>-->
  <!-- end about section -->

  <!--reviews and rating section-->
  <div class="container mt-5">
    <h2 style="text-align: center;font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';font-weight:bold;color: #F17228 !important;padding:2%;">Give Us Rating and Reviews</h2>
    {% comment %} <h2 id="re_head">Give Us Rating and Reviews</h2> {% endcomment %}
  {% comment %} <div id="rating_reviews_url" style="display: none;">{% url 'rating_reviews' %}</div>     {% endcomment %}
  <form id="ratingForm" method="post" action="{% url 'rating_reviews' %}">
    {% csrf_token %}
    <input id="rest_id" hidden value="{{obj}}"/>
        {% comment %} <div class="form-floating mb-3">
            <input type="text" class="form-control" id="floatingInput" >
            <label for="floatingInput">User Name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput">
            <label for="floatingInput">Email address</label>
        </div> {% endcomment %}
      <div class="form-group" style="display: flex;
      justify-content: center;
      align-items: center;">
        <label for="rating" style="font-family: 'Bad Script'; font-weight: bolder;">Give Us Rate Here:</label><br>
        <div class="rating">
          <input type="radio" id="star1" name="rating" value="1">
          <label for="star1"><i class="fas fa-star star"></i></label>
          <input type="radio" id="star2" name="rating" value="2">
          <label for="star2"><i class="fas fa-star star"></i></label>
          <input type="radio"  id="star3" name="rating" value="3">
          <label for="star3"><i class="fas fa-star star"></i></label>
          <input type="radio" id="star4" name="rating" value="4">
          <label for="star4"><i class="fas fa-star star"></i></label>
          <input type="radio"  id="star5" name="rating" value="5">
          <label for="star5"><i class="fas fa-star star"></i></label>
        </div>
      </div>
       <div class="form-floating">
          <textarea class="form-control" id="review_" style="height: 100px"></textarea>
          <label for="review_" >Review</label>
       </div>
       <div class="d-grid gap-2 col-6 mx-auto" style="margin-top: 30px;">
          <button type="submit" class="btn btn-grad" id="review_post_btn">Submit Review</button>
      </div>
    </form>
  </div>

  <section style="margin-top: 30px; padding: 20px;">
    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-6">
              <h3 style="text-align: center;font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';font-weight:bold;color: #F17228 !important;margin: 30px;
              padding: 30px;">Our Comments</h3>
              {% comment %} <h1 id="re_head">Our Comments</h1> {% endcomment %}
              {% for reviews in reviews  %}  
              <div class="card mb-3 card_ra" style="max-width: 540px; margin-bottom: 30px;">
                    <div class="row g-0">
                      <div class="col-md-4">
                        <img src="/static/Customer_CSS/assets/img/gallery/review_userr_image.png" class="img-fluid rounded-start" alt="...">
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title-re">{{reviews.user_fk.username}}</h5>
                          <p class="card-title-RA">{{reviews.user_fk.email}}</p>
                          <span class="card-text"><small class="text-body-secondary">{{reviews.rating}}/5</small></span>
                          <p class="card-text">{{reviews.review}}</p>
                          <p class="card-text"><small class="text-body-secondary">{{reviews.created_at}}</small></p>
                        </div>
                      </div>
                    </div>
              </div>
              {% endfor %}
                
            </div>
            <div class="col-lg-6">
              <h3 style="text-align: center;font-family: 'Source Sans Pro', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';font-weight:bold;color: #F17228 !important;margin: 30px;
              padding: 30px;">Our Top Rating</h3>
              {% comment %} <h1 id="re_head">Our Top Rating</h1> {% endcomment %}
              <div class="row">
                <div class="side">
                  <div style="font-family: 'Bad Script'; font-weight: bold; margin-bottom: 10px; margin-top: 10px">Five star</div>
                </div>
                <div class="middle">
                  <div class="bar-container">
                    <div class="bar-5"></div>
                  </div>
                </div>
                <div class="side">
                  <div  style="font-family: 'Bad Script'; font-weight: bold; margin-bottom: 10px; margin-top: 10px">Four star</div>
                </div>
                <div class="middle">
                  <div class="bar-container">
                    <div class="bar-4"></div>
                  </div>
                </div>
                <div class="side">
                  <div style="font-family: 'Bad Script'; font-weight: bold; margin-bottom: 10px; margin-top: 10px">Three star</div>
                </div>
                <div class="middle">
                  <div class="bar-container">
                    <div class="bar-3"></div>
                  </div>
                </div>
                <div class="side">
                  <div style="font-family: 'Bad Script'; font-weight: bold; margin-bottom: 10px ;margin-top: 10px">Two star</div>
                </div>
                <div class="middle">
                  <div class="bar-container">
                    <div class="bar-2"></div>
                  </div>
                </div>
                <div class="side">
                  <div style="font-family: 'Bad Script'; font-weight: bold; margin-bottom: 10px; margin-top: 10px">One star</div>
                </div>
                <div class="middle">
                  <div class="bar-container">
                    <div class="bar-1"></div>
                  </div>
                </div>
              </div>
        </div>
            </div>
        </div>
    </div>
  </section>
  <!--end reviews and rating section-->


  
      {% comment %} Food Detail Page scripting start{% endcomment %}
        <!-- 
    Essential Scripts
    =====================================-->

    
    
    <!-- Main jQuery -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap 3.1 -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- Bootstrap Touchpin -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
    <!-- Instagram Feed Js -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/instafeed/instafeed.min.js"></script>
    <!-- Video Lightbox Plugin -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/ekko-lightbox/dist/ekko-lightbox.min.js"></script>
    <!-- Count Down Js -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/syo-timer/build/jquery.syotimer.min.js"></script>

    <!-- slick Carousel -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/slick/slick.min.js"></script>
    <script src="/static/Customer_CSS/Food_Related_Page_theme/plugins/slick/slick-animation.min.js"></script>

    <!-- Google Mapl -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"></script>
    <script type="text/javascript" src="/static/Customer_CSS/Food_Related_Page_theme/plugins/google-map/gmap.js"></script>

          <!--Rating & Review Script-->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.min.js"></script>

    <!-- Main Js File -->
    <script src="/static/Customer_CSS/Food_Related_Page_theme/js/script.js"></script>
    {% comment %} Food Detail Page scripting end{% endcomment %}
    {% endblock %} 
    {% block js %}
    <script>
      $(document).ready(function() {
        $('.rating label').click(function() {
          $('.rating label').removeClass('active'); // Remove active class from all labels
          $(this).addClass('active'); // Add active class to the clicked label
          $(this).prevAll('label').addClass('active');
          var rating = $(this).prev('input[type="radio"]').val();
          //console.log('Selected rating:', rating);
        });
        var rest_id = document.getElementById('rest_id').value;
        console.log("rest id :",rest_id)
        $('#ratingForm').submit(function(event) {
          //var rating_reviews_Url = document.getElementById("rating_reviews_url").textContent;
          event.preventDefault(); // Prevent default form submission
          
          // Get the selected rating value
          var ratingValue = $('input[name="rating"]:checked').val();
          var reviewText = document.getElementById('review_').value;
          var rest_id = document.getElementById('rest_id').value;

          // Send rating value via AJAX to Django view
          $.ajax({
              url: $(this).attr('action'),
              type: 'POST',
              data: {
                csrfmiddlewaretoken: $('input[name="csrfmiddlewaretoken"]').val(),
                  rating: ratingValue,
                  review: reviewText,
                  rest_id: rest_id
              },
              success: function(response) {
                  console.log('Rating submitted successfully');
                  // Handle success response
              },
              error: function(xhr, status, error) {
                  console.error('Error submitting rating:', error);
                  // Handle error response
              }
          });
      });
    
        console.log("is something wrong")
        const filtersMenu = document.querySelector('.filters_menu');
        const items = document.querySelectorAll('.filters-content .box');
    
        filtersMenu.addEventListener('click', function(e) {
          if (e.target.tagName === 'LI') {
            const filter = e.target.getAttribute('data-filter');
    
            items.forEach(item => {
              const category = item.getAttribute('data-category');
              if (filter === 'all' || category === filter) {
                item.style.display = 'block';
              } else {
                item.style.display = 'none';
              }
            });
    
            const activeItem = filtersMenu.querySelector('.active');
            activeItem.classList.remove('active');
            e.target.classList.add('active');
          }
        });
      });
    </script>
    {% endblock js %}